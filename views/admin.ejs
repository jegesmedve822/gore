<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel</title>
    <link rel="stylesheet" href="css/admin.css">
</head>
<body>
    <div class="admin-header">Admin Panel</div>
    <div class="menu-button">
        <a href="/main">
            <button type="button">Főmenü</button>
        </a>
    </div>
    

    <div class="admin-container">
        <!-- Bal oldali panel (Felhasználó kezelése) -->
        <div class="left-panel">
            <h2>Felhasználó kezelése</h2>
            
            <label for="action">Válassz műveletet:</label>
            <select id="action">
                <option value="">-- Válassz --</option>
                <option value="create">Felhasználó létrehozása</option>
                <option value="delete">Felhasználó törlése</option>
                <option value="update">Szerepkör módosítása</option>
            </select>

            <form id="adminForm" style="display: none;">
                <!-- CREATE - Felhasználó létrehozása -->
                <div id="createFields" class="form-section" style="display: none;">
                    <label for="username">Felhasználónév:</label>
                    <input type="text" id="username">
                    
                    <label for="email">Email cím:</label>
                    <input type="email" id="email">
                    
                    <label for="password">Jelszó:</label>
                    <input type="password" id="password">
                    
                    <label for="role">Szerepkör:</label>
                    <select id="role">
                        <option value="viewer">Viewer</option>
                        <option value ="starter">Starter</option>
                        <option value="user">User</option>
                        <option value="c-piroshaz">Check - Pirosház</option>
                        <option value="c-gyugy">Check - Gyugy</option>
                        <option value="c-gorekilato">Check - Göre-kilátó</option>
                        <option value="c-kishegy">Check - Kishegy</option>
                        <option value="c-harsaspuszta">Check - Hársas-puszta</option>
                        <option value="c-bendekpuszta">Check - Béndek-puszta</option>
                    </select>
                </div>

                <!-- DELETE - Felhasználó törlése -->
                <div id="deleteFields" class="form-section" style="display: none;">
                    <label for="deleteUsername">Törlendő felhasználónév:</label>
                    <input type="text" id="deleteUsername">
                </div>

                <!-- UPDATE - Szerepkör módosítása -->
                <div id="updateFields" class="form-section" style="display: none;">
                    <label for="updateUsername">Felhasználónév:</label>
                    <input type="text" id="updateUsername">

                    <label for="updateRole">Új szerepkör:</label>
                    <select id="updateRole">
                        <option value="viewer">Viewer</option>
                        <option value="starter">Starter</option>
                        <option value="user">User</option>
                        <option value="sysadmin">Sysadmin</option>
                    </select>
                </div>

                <button type="submit">Művelet végrehajtása</button>
            </form>

            <p id="message"></p>
        </div>

        <!-- Középső panel -->
        <div class="center-panel">
            <h2>Szerver Monitor</h2>
            <div id="server-status">
                <p>CPU terhelés: <span id="cpuLoad">—</span></p>
                <p>Memóriahasználat: <span id="memoryUsage">—</span>%</p>
                <p>Szabad memória: <span id="freeMemory">—</span> MB</p>
                <p>Teljes memória: <span id="totalMemory">—</span> MB</p>
                <p>Uptime: <span id="uptime">—</span></p>
            </div>
            <div class="server-history">
                <h2>Szerver Terhelés Történet</h2>
                <table id="serverHistoryTable">
                    <thead>
                        <tr>
                            <th>Időpont</th>
                            <th>CPU Terhelés</th>
                            <th>Memóriahasználat</th>
                            <th>Uptime</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <!-- Jobb oldali panel -->
        <div class="right-panel">
            <h2>Adatbázis műveletek</h2>
            <button class="db-action" data-action="backup">Adatbázis mentése</button>
            <button class="db-action" data-action="restore">Adatbázis visszaállítása</button>
            <button class="db-action" data-action="purge">Régi adatok törlése</button>
        </div>
    </div>

    <div id="confirmModal" class="modal">
        <div class="modal-content">
            <p id="confirmMessage">Biztosan végrehajtod ezt a műveletet?</p>
            <button id="confirmYes">Igen</button>
            <button id="confirmNo">Mégse</button>
        </div>
    </div>

    <script src="js/admin_create_user.js"></script>
    <script src = "js/authentication.js"></script>
    <script src = "js/adminMonitor.js"></script>
    <script src = "js/serverHistory.js"></script>
    <script src="js/admin_db_actions.js"></script>
</body>
</html>
